<html>
<head>
	<title>With Great Power, Comes Great Responsibility</title>
	<link rel="stylesheet" type="text/css" href="bootstrap3.1.1/css/bootstrap.css" />
	<script src="/socket.io/socket.io.js"></script>
	<script src="js/jquery-1.11.0.min.js"></script>
	<script>
		// this file is quick and dirty. but it works :P
		$(document).ready(function() {
		  	var timer = null;
		  	var socket = io.connect();

		  	$("#push_result").click(function() {
		  		socket.emit('push', JSON.parse('{"type" : "result"}'));
		  	});
		  	$("#push_startlist").click(function() {
		  		socket.emit('push', JSON.parse('{"type" : "startlist"}'));
		  	});
		  	$("#auto").click(function() {
		  		if (timer == null) {
		  			timer = setInterval(function() {
		  				socket.emit('push', JSON.parse('{"type" : "startlist"}'));
		  				socket.emit('push', JSON.parse('{"type" : "result"}'));
		  			}, 15000);
		  			$(this).removeClass("btn-danger");
		  			$(this).addClass("btn-success");
		  		}
		  		else {
		  			clearInterval(timer);
		  			timer = null;
		  			$(this).addClass("btn-danger");
		  			$(this).removeClass("btn-success");
		  		}
		  		
		  	});
		});
	</script>
</head>
<body>
	<div class="container">
			<h3>Manuell</h3>
		  	<button class="btn" id="push_startlist">Push Startlist</button>
		 	<button class="btn" id="push_result">Push Result</button>

		  	<h3>Auto Modus</h3>
		  	<button id="auto" class="btn btn-danger">Auto Modus</button>
	</div>

	
</body>
</html>