<html>
<head>
	<title>With Great Power, Comes Great Responsibility</title>
	<link rel="stylesheet" type="text/css" href="bootstrap3.1.1/css/bootstrap.css" />
	<style>
		textarea{
		    resize: none;
		}
	</style>
	<script src="/socket.io/socket.io.js"></script>
	<script src="js/jquery-1.11.0.min.js"></script>
	<script>
		// this file is quick and dirty. but it works :P
		$(document).ready(function() {
		  	var timer = null;
		  	var socket = io.connect();

		  	$("#push_result").click(function() {
		  		socket.emit('push', JSON.parse('{"type" : "result"}'));
		  	});
		  	$("#push_startlist").click(function() {
		  		socket.emit('push', JSON.parse('{"type" : "startlist"}'));
		  	});
		  	$("#push_news").click(function() {
		  		socket.emit('push', JSON.parse('{"type" : "news"}'));
		  	});
		  	$("#broadtcastNews").submit(function() {
		  		var obj = new Object();
		  		obj.header = $("#inputHeader").val();
		  		obj.msg = $("#inputMsg").val();
		  		obj.secret = $("#inputSecret").val();
		  		socket.emit("broadtcastNews", obj);
		  		return false;
		  	})
		  	$("#auto").click(function() {
		  		if (timer == null) {
		  			timer = setInterval(function() {
		  				socket.emit('push', JSON.parse('{"type" : "startlist"}'));
		  				socket.emit('push', JSON.parse('{"type" : "result"}'));
		  			}, 15000);
		  			$(this).removeClass("btn-danger");
		  			$(this).addClass("btn-success");
		  		}
		  		else {
		  			clearInterval(timer);
		  			timer = null;
		  			$(this).addClass("btn-danger");
		  			$(this).removeClass("btn-success");
		  		}
		  		
		  	});
		});
	</script>
</head>
<body>
	<div class="container">
		<h3>Manuell</h3>
		<button class="btn" id="push_startlist">Push Startlist</button>
		<button class="btn" id="push_result">Push Result</button>
		<button class="btn" id="push_news">Push News</button>

		<h3>Auto Modus</h3>
		<button id="auto" class="btn btn-danger">Auto Modus</button>

		<h3>Broadcast News</h3>
		<form class="form-horizontal" role="form" id="broadtcastNews">
			<div class="form-group">
		    	<label for="inputHeader" class="col-sm-2 control-label">Header</label>
		    	<div class="col-sm-10">
		      		<input type="text" class="form-control" id="inputHeader" placeholder="Header" required>
		    	</div>
		  	</div>
		  	<div class="form-group">
		    	<label for="inputMsg" class="col-sm-2 control-label">Message</label>
		    	<div class="col-sm-10">
		      		<textarea class="form-control" id="inputMsg" rows="10" required></textarea>
		    	</div>
		  	</div>
		  	<div class="form-group">
		    	<label for="inputSecret" class="col-sm-2 control-label">Secret</label>
		    	<div class="col-sm-10">
		      		<input type="text" class="form-control" id="inputSecret" placeholder="Secret" required>
		    	</div>
		  	</div>
		  	<div class="form-group">
		    	<div class="col-sm-offset-2 col-sm-10">
		      		<button type="submit" class="btn btn-primary">Broadcast</button>
		    	</div>
		  	</div>
		</form>

	</div>
</body>
</html>